---
title: Node.js Setup
description: Use Commet SDK in any Node.js or TypeScript project
---

import { Steps, Step } from 'fumadocs-ui/components/steps'
import { Tabs, Tab } from 'fumadocs-ui/components/tabs'

<Steps>
<Step>

## Install

<Tabs items={['pnpm', 'npm', 'yarn', 'bun']}>
<Tab value="pnpm">
```bash
pnpm add @commet/node
```
</Tab>
<Tab value="npm">
```bash
npm install @commet/node
```
</Tab>
<Tab value="yarn">
```bash
yarn add @commet/node
```
</Tab>
<Tab value="bun">
```bash
bun add @commet/node
```
</Tab>
</Tabs>

</Step>

<Step>

## Configure

```bash title=".env"
COMMET_API_KEY=ck_sandbox_xxx
```

</Step>

<Step>

## Initialize

```typescript title="lib/commet.ts"
import { Commet } from '@commet/node'

export const commet = new Commet({
  apiKey: process.env.COMMET_API_KEY!,
  environment: 'sandbox',
})
```

</Step>

<Step>

## Use

```typescript
// Create customer
const customer = await commet.customers.create({
  email: 'billing@acme.com',
  externalId: 'user_123',
})

// Create subscription and get payment link
const subscription = await commet.subscriptions.create({
  externalId: 'user_123',
  planCode: 'pro',
})

// Redirect user to pay
redirect(subscription.data.checkoutUrl)
```

</Step>

<Step>

## Check Subscription

```typescript
const subscription = await commet.subscriptions.get({ externalId: 'user_123' })

if (subscription.data?.status === 'active') {
  // User has paid
}
```

</Step>

<Step>

## Check Features

```typescript
const { data } = await commet.features.check('custom_branding', 'user_123')

if (!data.allowed) {
  redirect('/upgrade')
}
```

</Step>
</Steps>

## Related

- [Customers](/docs/library/features/customers)
- [Subscriptions](/docs/library/features/subscriptions)
- [Usage](/docs/library/features/usage)
