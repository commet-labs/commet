---
title: Configuración Node.js
description: Usa Commet SDK en cualquier proyecto Node.js o TypeScript
---

import { Steps, Step } from 'fumadocs-ui/components/steps'
import { Tabs, Tab } from 'fumadocs-ui/components/tabs'

<Steps>
<Step>

## Instalar

<Tabs items={['pnpm', 'npm', 'yarn', 'bun']}>
<Tab value="pnpm">
```bash
pnpm add @commet/node
```
</Tab>
<Tab value="npm">
```bash
npm install @commet/node
```
</Tab>
<Tab value="yarn">
```bash
yarn add @commet/node
```
</Tab>
<Tab value="bun">
```bash
bun add @commet/node
```
</Tab>
</Tabs>

</Step>

<Step>

## Configurar

```bash title=".env"
COMMET_API_KEY=ck_sandbox_xxx
```

</Step>

<Step>

## Inicializar

```typescript title="lib/commet.ts"
import { Commet } from '@commet/node'

export const commet = new Commet({
  apiKey: process.env.COMMET_API_KEY!,
  environment: 'sandbox',
})
```

</Step>

<Step>

## Usar

```typescript
// Crear cliente
const customer = await commet.customers.create({
  email: 'billing@acme.com',
  externalId: 'user_123',
})

// Crear suscripción y obtener link de pago
const subscription = await commet.subscriptions.create({
  externalId: 'user_123',
  planCode: 'pro',
})

// Redirigir al usuario para pagar
redirect(subscription.data.checkoutUrl)
```

</Step>

<Step>

## Verificar Suscripción

```typescript
const subscription = await commet.subscriptions.get({ externalId: 'user_123' })

if (subscription.data?.status === 'active') {
  // El usuario ha pagado
}
```

</Step>

<Step>

## Verificar Features

```typescript
const { data } = await commet.features.check('custom_branding', 'user_123')

if (!data.allowed) {
  redirect('/upgrade')
}
```

</Step>
</Steps>

## Relacionado

- [Customers](/docs/library/features/customers)
- [Subscriptions](/docs/library/features/subscriptions)
- [Usage](/docs/library/features/usage)
