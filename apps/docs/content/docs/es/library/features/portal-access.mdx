---
title: Portal de Cliente
description: Genera URLs seguras del portal para clientes
---

Portal de autoservicio donde los clientes gestionan facturación, actualizan métodos de pago y ven facturas.

## Obtener URL

La URL es de un solo uso y expira - genera una nueva en cada solicitud.

```typescript
const portal = await commet.portal.getUrl({ externalId: 'user_123' })

redirect(portal.data.portalUrl)
```

## Next.js

Configuración de una línea con `@commet/next`.

```typescript title="app/api/commet/portal/route.ts"
import { CustomerPortal } from '@commet/next'

export const GET = CustomerPortal({
  apiKey: process.env.COMMET_API_KEY!,
  getCustomerId: async (req) => {
    // Retornar el externalId del usuario desde tu auth
    return 'user_123'
  },
})
```

```tsx
<a href="/api/commet/portal">Gestionar Facturación</a>
```

## Relacionado

- [Next.js Setup](/docs/library/installation/nextjs)
- [Subscriptions](/docs/library/features/subscriptions)
