---
title: Suscripciones
description: Gestiona suscripciones con el modelo plan-first
---

Cada cliente solo puede tener una suscripción activa a la vez.

## Crear

Retorna un `checkoutUrl` - redirige al usuario ahí para completar el pago.

```typescript
const subscription = await commet.subscriptions.create({
  externalId: 'user_123',
  planCode: 'pro',
})

redirect(subscription.data.checkoutUrl)
```

## Obtener

Retorna detalles completos de la suscripción incluyendo resumen de uso de features.

```typescript
const sub = await commet.subscriptions.get({ externalId: 'user_123' })

if (sub.data?.status === 'active') {
  // El usuario ha pagado
}
```

## Cambiar Plan

La prorrateación es automática - acredita tiempo no usado y cobra por el nuevo plan.

```typescript
await commet.subscriptions.changePlan('sub_xxx', { planCode: 'enterprise' })
```

## Cancelar

Cancela al final del período actual por defecto.

```typescript
await commet.subscriptions.cancel('sub_xxx')
```

## Relacionado

- [Plans](/docs/library/features/plans)
- [Usage](/docs/library/features/usage-events)
- [Seats](/docs/library/features/seat-management)
