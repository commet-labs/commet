---
title: Clientes
description: Gestiona clientes para facturación
---

import { Callout } from 'fumadocs-ui/components/callout'

## Crear Cliente

```typescript
const customer = await commet.customers.create({
  email: 'billing@acme.com',
  externalId: 'user_123'
})
```

## Vincular con Tu Sistema

Usa `externalId` para conectar clientes con tu base de datos:

```typescript
const customer = await commet.customers.create({
  email: user.email,
  externalId: user.id,
  legalName: 'Acme Corporation'
})

// Después, busca por tu ID
const customers = await commet.customers.list({
  externalId: user.id
})
```

## Operaciones Básicas

```typescript
// Obtener
const customer = await commet.customers.get('cus_xxx')

// Actualizar
await commet.customers.update('cus_xxx', {
  displayName: 'Acme Corp',
  email: 'accounts@acme.com'
})

// Listar
const customers = await commet.customers.list({
  isActive: true,
  limit: 50
})

// Archivar
await commet.customers.archive('cus_xxx')
```

## Creación en Batch

Importa clientes en bulk para sincronización inicial:

```typescript
await commet.customers.createBatch({
  customers: [
    { email: 'user1@example.com', externalId: 'user_1' },
    { email: 'user2@example.com', externalId: 'user_2' },
    { email: 'user3@example.com', externalId: 'user_3' }
  ]
})
```

## Agregar Dirección

Completa el perfil del cliente cuando la información esté disponible:

```typescript
await commet.customers.update(customerId, {
  address: {
    line1: '123 Business St',
    city: 'San Francisco',
    state: 'CA',
    postalCode: '94105',
    country: 'US'
  }
})
```

## Metadata

Almacena datos adicionales:

```typescript
await commet.customers.update('cus_xxx', {
  metadata: {
    crm_id: 'sf_123456',
    tier: 'enterprise'
  }
})
```

## Recursos Relacionados

- [Suscripciones](/es/docs/library/features/subscriptions) - Crear facturación recurrente
- [Acceso al Portal](/es/docs/library/features/portal-access) - Generar links del portal
