---
title: Gestión de Clientes
description: Gestiona clientes con direcciones y tributación
---

import { Tabs, Tab } from 'fumadocs-ui/components/tabs'
import { Callout } from 'fumadocs-ui/components/callout'

## Crear Cliente

```typescript
const customer = await commet.customers.create({
  legalName: 'Acme Corporation',
  billingEmail: 'billing@acme.com'
})
```

## Vincular con Tu Sistema

Usa `externalId` para conectar clientes de Commet con tu base de datos:

```typescript
const customer = await commet.customers.create({
  externalId: user.id,
  legalName: 'Acme Corporation',
  billingEmail: user.email
})

// Después, busca por tu ID
const customers = await commet.customers.list({
  externalId: user.id
})
```

## Operaciones Básicas

```typescript
// Recuperar
const customer = await commet.customers.retrieve('cus_xxx')

// Actualizar
await commet.customers.update('cus_xxx', {
  displayName: 'Acme Corp',
  billingEmail: 'accounts@acme.com'
})

// Listar
const customers = await commet.customers.list({
  isActive: true,
  limit: 50
})

// Desactivar
await commet.customers.deactivate('cus_xxx')
```

## Agregar Dirección Después

Completa el perfil del cliente cuando la información esté disponible:

```typescript
await commet.customers.update(customerId, {
  address: {
    line1: '123 Business St',
    line2: 'Suite 100', // Opcional
    city: 'San Francisco',
    state: 'CA', // Requerido para US/CA
    postalCode: '94105',
    country: 'US', // Formato ISO-2
    region: 'North America' // Opcional
  }
})
```

## Metadata Personalizada

Almacena datos adicionales con clientes:

```typescript
await commet.customers.update('cus_xxx', {
  metadata: {
    crm_id: 'sf_123456',
    tier: 'enterprise',
    account_manager: 'john.doe@company.com'
  }
})
```

## Recursos Relacionados

- [Suscripciones](/es/docs/library/features/subscriptions) - Crear facturación recurrente
- [Acceso al Portal](/es/docs/library/features/portal-access) - Generar links del portal de cliente
- [Paginación](/es/docs/library/core/pagination) - Manejar listas grandes de clientes
