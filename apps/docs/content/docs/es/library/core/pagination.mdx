---
title: Paginación
description: Recuperar datasets grandes con paginación basada en cursores
---

# Paginación

La API usa paginación basada en cursores para operaciones de listado.

## Uso Básico

```typescript
const page = await commet.customers.list({ limit: 25 })

console.log(page.data)        // Array de customers
console.log(page.hasMore)     // true si existen más páginas
console.log(page.nextCursor)  // Cursor para siguiente página
```

Obtener siguiente página:

```typescript
if (page.hasMore) {
  const nextPage = await commet.customers.list({ 
    limit: 25,
    cursor: page.nextCursor 
  })
}
```

## Parámetros

| Parámetro | Tipo | Default | Max | Descripción |
|-----------|------|---------|-----|-------------|
| `limit` | number | 25 | 100 | Items por página |
| `cursor` | string | - | - | Cursor de respuesta anterior |

## Formato de Respuesta

```typescript
{
  success: true,
  data: [...],           // Array de resultados
  hasMore: true,         // Existen más páginas
  nextCursor: "2024-01-15T10:30:00Z"  // Cursor para siguiente página
}
```

## Obtener Todas las Páginas

```typescript
const allCustomers = []
let cursor = undefined

do {
  const page = await commet.customers.list({ limit: 100, cursor })
  allCustomers.push(...page.data)
  cursor = page.nextCursor
} while (page.hasMore)

console.log(`Total: ${allCustomers.length}`)
```

## Con Filtros

Mantener filtros entre páginas:

```typescript
// Primera página con filtros
const page = await commet.customers.list({
  currency: "USD",
  limit: 50
})

// Siguiente página con los mismos filtros
if (page.hasMore) {
  const nextPage = await commet.customers.list({
    currency: "USD",
    limit: 50,
    cursor: page.nextCursor
  })
}
```

## Procesamiento por Lotes

```typescript
async function processAll(callback) {
  let cursor = undefined

  do {
    const page = await commet.customers.list({ limit: 100, cursor })
    await callback(page.data)
    cursor = page.nextCursor
  } while (page.hasMore)
}

// Uso
await processAll(async (customers) => {
  for (const customer of customers) {
    console.log(`Procesando ${customer.id}`)
  }
})
```
