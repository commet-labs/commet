---
title: Manejo de Errores
description: Maneja errores con reintentos automáticos y clases de error tipadas
---

## Clases de Error

```typescript
import { CommetAPIError, CommetValidationError } from '@commet/node'

try {
  await commet.customers.create({ email: 'invalid' })
} catch (error) {
  if (error instanceof CommetValidationError) {
    console.log(error.validationErrors)
    // { email: ['Invalid email format'] }
  }
  
  if (error instanceof CommetAPIError) {
    console.log(error.statusCode, error.message)
  }
}
```

| Clase | Caso de uso |
|-------|----------|
| `CommetAPIError` | Errores HTTP (4xx, 5xx) |
| `CommetValidationError` | Input inválido con detalles por campo |
| `CommetError` | Clase base para todos los errores |

## Reintentos Automáticos

Los requests fallidos se reintentan con backoff exponencial (1s → 2s → 4s, máx 8s).

**Reintentables:** 408, 429, 500, 502, 503, 504

```typescript
const commet = new Commet({
  apiKey: process.env.COMMET_API_KEY!,
  retries: 3,  // por defecto
})
```

## Uso No Bloqueante

No dejes que errores de rastreo rompan tu app:

```typescript
commet.usage.track({
  externalId: 'user_123',
  eventType: 'api_call',
}).catch(console.error)

// Continúa sin esperar
```
